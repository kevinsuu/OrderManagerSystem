{"ast":null,"code":"var _jsxFileName = \"/Users/sumingkai/Documents/OrderManagerSystem/frontend/src/pages/Store/ForgotPassword.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Container, Paper, Typography, TextField, Button, Box, Link, Alert, CircularProgress } from '@mui/material';\nimport { Link as RouterLink } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ForgotPassword = () => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!email) {\n      setError('請輸入電子郵件地址');\n      return;\n    }\n    if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)) {\n      setError('請輸入有效的電子郵件地址');\n      return;\n    }\n    setLoading(true);\n    setError('');\n    setSuccess('');\n    try {\n      const response = await axios.post('https://ordermanagersystem-auth-service.onrender.com/auth/forgot-password', {\n        email\n      });\n      if (response.data.success) {\n        setSuccess('重設密碼連結已發送到您的電子郵件，請查收');\n        setEmail('');\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setError(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || '發送重設密碼郵件失敗，請稍後再試');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    component: \"main\",\n    maxWidth: \"xs\",\n    sx: {\n      minHeight: '100vh',\n      display: 'flex',\n      alignItems: 'center',\n      background: 'linear-gradient(135deg, rgba(66, 66, 74, 0.9) 0%, rgba(25, 25, 25, 0.9) 100%)',\n      backdropFilter: 'blur(10px)'\n    },\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      sx: {\n        p: 4,\n        width: '100%',\n        background: 'rgba(255, 255, 255, 0.9)',\n        backdropFilter: 'blur(10px)',\n        borderRadius: 2,\n        border: '1px solid rgba(255, 255, 255, 0.2)'\n      },\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          component: \"h1\",\n          variant: \"h5\",\n          sx: {\n            mb: 3\n          },\n          children: \"\\u5FD8\\u8A18\\u5BC6\\u78BC\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          color: \"text.secondary\",\n          sx: {\n            mb: 3,\n            textAlign: 'center'\n          },\n          children: \"\\u8ACB\\u8F38\\u5165\\u60A8\\u8A3B\\u518A\\u6642\\u4F7F\\u7528\\u7684\\u96FB\\u5B50\\u90F5\\u4EF6\\u5730\\u5740\\uFF0C\\u6211\\u5011\\u5C07\\u767C\\u9001\\u91CD\\u8A2D\\u5BC6\\u78BC\\u7684\\u9023\\u7D50\\u7D66\\u60A8\\u3002\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"error\",\n          sx: {\n            width: '100%',\n            mb: 2\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 25\n        }, this), success && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"success\",\n          sx: {\n            width: '100%',\n            mb: 2\n          },\n          children: success\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          component: \"form\",\n          onSubmit: handleSubmit,\n          sx: {\n            width: '100%'\n          },\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            margin: \"normal\",\n            required: true,\n            fullWidth: true,\n            id: \"email\",\n            label: \"\\u96FB\\u5B50\\u90F5\\u4EF6\",\n            name: \"email\",\n            autoComplete: \"email\",\n            autoFocus: true,\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            disabled: loading\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            fullWidth: true,\n            variant: \"contained\",\n            sx: {\n              mt: 3,\n              mb: 2,\n              background: 'linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)',\n              '&:hover': {\n                background: 'linear-gradient(45deg, #1976D2 30%, #00BCD4 90%)'\n              }\n            },\n            disabled: loading,\n            children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n              size: 24\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 40\n            }, this) : '發送重設密碼連結'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              textAlign: 'center'\n            },\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              component: RouterLink,\n              to: \"/login\",\n              variant: \"body2\",\n              children: \"\\u8FD4\\u56DE\\u767B\\u5165\\u9801\\u9762\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n_s(ForgotPassword, \"T/e5TmhvhkU5Vw9L5v23fhxjCJU=\");\n_c = ForgotPassword;\nexport default ForgotPassword;\nvar _c;\n$RefreshReg$(_c, \"ForgotPassword\");","map":{"version":3,"names":["React","useState","Container","Paper","Typography","TextField","Button","Box","Link","Alert","CircularProgress","RouterLink","axios","jsxDEV","_jsxDEV","ForgotPassword","_s","email","setEmail","loading","setLoading","error","setError","success","setSuccess","handleSubmit","e","preventDefault","test","response","post","data","_error$response","_error$response$data","message","component","maxWidth","sx","minHeight","display","alignItems","background","backdropFilter","children","elevation","p","width","borderRadius","border","flexDirection","variant","mb","fileName","_jsxFileName","lineNumber","columnNumber","color","textAlign","severity","onSubmit","margin","required","fullWidth","id","label","name","autoComplete","autoFocus","value","onChange","target","disabled","type","mt","size","to","_c","$RefreshReg$"],"sources":["/Users/sumingkai/Documents/OrderManagerSystem/frontend/src/pages/Store/ForgotPassword.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n    Container,\n    Paper,\n    Typography,\n    TextField,\n    Button,\n    Box,\n    Link,\n    Alert,\n    CircularProgress\n} from '@mui/material';\nimport { Link as RouterLink } from 'react-router-dom';\nimport axios from 'axios';\n\nconst ForgotPassword = () => {\n    const [email, setEmail] = useState('');\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState('');\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        if (!email) {\n            setError('請輸入電子郵件地址');\n            return;\n        }\n        if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)) {\n            setError('請輸入有效的電子郵件地址');\n            return;\n        }\n\n        setLoading(true);\n        setError('');\n        setSuccess('');\n\n        try {\n            const response = await axios.post('https://ordermanagersystem-auth-service.onrender.com/auth/forgot-password', {\n                email\n            });\n\n            if (response.data.success) {\n                setSuccess('重設密碼連結已發送到您的電子郵件，請查收');\n                setEmail('');\n            }\n        } catch (error) {\n            setError(error.response?.data?.message || '發送重設密碼郵件失敗，請稍後再試');\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <Container component=\"main\" maxWidth=\"xs\" sx={{\n            minHeight: '100vh',\n            display: 'flex',\n            alignItems: 'center',\n            background: 'linear-gradient(135deg, rgba(66, 66, 74, 0.9) 0%, rgba(25, 25, 25, 0.9) 100%)',\n            backdropFilter: 'blur(10px)'\n        }}>\n            <Paper\n                elevation={3}\n                sx={{\n                    p: 4,\n                    width: '100%',\n                    background: 'rgba(255, 255, 255, 0.9)',\n                    backdropFilter: 'blur(10px)',\n                    borderRadius: 2,\n                    border: '1px solid rgba(255, 255, 255, 0.2)'\n                }}\n            >\n                <Box\n                    sx={{\n                        display: 'flex',\n                        flexDirection: 'column',\n                        alignItems: 'center',\n                    }}\n                >\n                    <Typography component=\"h1\" variant=\"h5\" sx={{ mb: 3 }}>\n                        忘記密碼\n                    </Typography>\n\n                    <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3, textAlign: 'center' }}>\n                        請輸入您註冊時使用的電子郵件地址，我們將發送重設密碼的連結給您。\n                    </Typography>\n\n                    {error && (\n                        <Alert severity=\"error\" sx={{ width: '100%', mb: 2 }}>\n                            {error}\n                        </Alert>\n                    )}\n\n                    {success && (\n                        <Alert severity=\"success\" sx={{ width: '100%', mb: 2 }}>\n                            {success}\n                        </Alert>\n                    )}\n\n                    <Box component=\"form\" onSubmit={handleSubmit} sx={{ width: '100%' }}>\n                        <TextField\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            id=\"email\"\n                            label=\"電子郵件\"\n                            name=\"email\"\n                            autoComplete=\"email\"\n                            autoFocus\n                            value={email}\n                            onChange={(e) => setEmail(e.target.value)}\n                            disabled={loading}\n                        />\n                        <Button\n                            type=\"submit\"\n                            fullWidth\n                            variant=\"contained\"\n                            sx={{\n                                mt: 3,\n                                mb: 2,\n                                background: 'linear-gradient(45deg, #2196F3 30%, #21CBF3 90%)',\n                                '&:hover': {\n                                    background: 'linear-gradient(45deg, #1976D2 30%, #00BCD4 90%)',\n                                }\n                            }}\n                            disabled={loading}\n                        >\n                            {loading ? <CircularProgress size={24} /> : '發送重設密碼連結'}\n                        </Button>\n                        <Box sx={{ textAlign: 'center' }}>\n                            <Link component={RouterLink} to=\"/login\" variant=\"body2\">\n                                返回登入頁面\n                            </Link>\n                        </Box>\n                    </Box>\n                </Box>\n            </Paper>\n        </Container>\n    );\n};\n\nexport default ForgotPassword; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}