{"ast":null,"code":"import React from'react';import{HashRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{ThemeProvider}from'@mui/material/styles';import CssBaseline from'@mui/material/CssBaseline';import theme from'./theme';// Layouts\nimport StoreLayout from'./layouts/Store/StoreLayout';import AdminLayout from'./layouts/Admin/AdminLayout';// Store Pages\nimport Home from'./pages/Store/Home';import Login from'./pages/Store/Login';import Profile from'./pages/Store/Profile';import Cart from'./pages/Store/Cart';// Admin Pages\nimport AdminLogin from'./pages/Admin/Login';import AdminDashboard from'./pages/Admin/Dashboard';// 路由保護組件\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children}=_ref;const isAuthenticated=localStorage.getItem('adminLoggedIn')==='true';if(!isAuthenticated){return/*#__PURE__*/_jsx(Navigate,{to:\"/admin/login\"});}return children;};// 使用者路由保護組件\nconst UserProtectedRoute=_ref2=>{let{children}=_ref2;const isAuthenticated=localStorage.getItem('userToken');if(!isAuthenticated){// 儲存當前嘗試訪問的路徑，登入後可以重定向回來\nsessionStorage.setItem('redirectUrl',window.location.pathname);return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}return children;};function App(){return/*#__PURE__*/_jsxs(ThemeProvider,{theme:theme,children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsx(StoreLayout,{}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"profile\",element:/*#__PURE__*/_jsx(UserProtectedRoute,{children:/*#__PURE__*/_jsx(Profile,{})})}),/*#__PURE__*/_jsx(Route,{path:\"store\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"store/orders\",element:/*#__PURE__*/_jsx(UserProtectedRoute,{children:/*#__PURE__*/_jsx(\"div\",{children:\"\\u8A02\\u55AE\\u8A18\\u9304\\u9801\\u9762\"})})}),/*#__PURE__*/_jsx(Route,{path:\"store/wishlist\",element:/*#__PURE__*/_jsx(UserProtectedRoute,{children:/*#__PURE__*/_jsx(\"div\",{children:\"\\u6536\\u85CF\\u6E05\\u55AE\\u9801\\u9762\"})})}),/*#__PURE__*/_jsx(Route,{path:\"store/cart\",element:/*#__PURE__*/_jsx(UserProtectedRoute,{children:/*#__PURE__*/_jsx(\"div\",{children:\"\\u8CFC\\u7269\\u8ECA\\u9801\\u9762\"})})}),/*#__PURE__*/_jsx(Route,{path:\"cart\",element:/*#__PURE__*/_jsx(Cart,{})})]}),/*#__PURE__*/_jsxs(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(AdminLayout,{}),children:[/*#__PURE__*/_jsx(Route,{path:\"login\",element:/*#__PURE__*/_jsx(AdminLogin,{})}),/*#__PURE__*/_jsx(Route,{path:\"dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(AdminDashboard,{})})})]})]})})]});}export default App;","map":{"version":3,"names":["React","HashRouter","Router","Routes","Route","Navigate","ThemeProvider","CssBaseline","theme","StoreLayout","AdminLayout","Home","Login","Profile","Cart","AdminLogin","AdminDashboard","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","isAuthenticated","localStorage","getItem","to","UserProtectedRoute","_ref2","sessionStorage","setItem","window","location","pathname","App","path","element","index"],"sources":["/Users/sumingkai/Documents/OrderManagerSystem/frontend/src/App.js"],"sourcesContent":["import React from 'react';\nimport { HashRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { ThemeProvider } from '@mui/material/styles';\nimport CssBaseline from '@mui/material/CssBaseline';\nimport theme from './theme';\n\n// Layouts\nimport StoreLayout from './layouts/Store/StoreLayout';\nimport AdminLayout from './layouts/Admin/AdminLayout';\n\n// Store Pages\nimport Home from './pages/Store/Home';\nimport Login from './pages/Store/Login';\nimport Profile from './pages/Store/Profile';\nimport Cart from './pages/Store/Cart';\n\n// Admin Pages\nimport AdminLogin from './pages/Admin/Login';\nimport AdminDashboard from './pages/Admin/Dashboard';\n\n// 路由保護組件\nconst ProtectedRoute = ({ children }) => {\n    const isAuthenticated = localStorage.getItem('adminLoggedIn') === 'true';\n\n    if (!isAuthenticated) {\n        return <Navigate to=\"/admin/login\" />;\n    }\n\n    return children;\n};\n\n// 使用者路由保護組件\nconst UserProtectedRoute = ({ children }) => {\n    const isAuthenticated = localStorage.getItem('userToken');\n\n    if (!isAuthenticated) {\n        // 儲存當前嘗試訪問的路徑，登入後可以重定向回來\n        sessionStorage.setItem('redirectUrl', window.location.pathname);\n        return <Navigate to=\"/login\" />;\n    }\n\n    return children;\n};\n\nfunction App() {\n    return (\n        <ThemeProvider theme={theme}>\n            <CssBaseline />\n            <Router>\n                <Routes>\n                    {/* 商店前台路由 */}\n                    <Route path=\"/\" element={<StoreLayout />}>\n                        <Route index element={<Home />} />\n                        <Route path=\"login\" element={<Login />} />\n                        <Route\n                            path=\"profile\"\n                            element={\n                                <UserProtectedRoute>\n                                    <Profile />\n                                </UserProtectedRoute>\n                            }\n                        />\n                        <Route path=\"store\" element={<Home />} />\n                        <Route path=\"store/orders\" element={\n                            <UserProtectedRoute>\n                                <div>訂單記錄頁面</div>\n                            </UserProtectedRoute>\n                        } />\n                        <Route path=\"store/wishlist\" element={\n                            <UserProtectedRoute>\n                                <div>收藏清單頁面</div>\n                            </UserProtectedRoute>\n                        } />\n                        <Route path=\"store/cart\" element={\n                            <UserProtectedRoute>\n                                <div>購物車頁面</div>\n                            </UserProtectedRoute>\n                        } />\n                        <Route path=\"cart\" element={<Cart />} />\n                    </Route>\n\n                    {/* 管理後台路由 */}\n                    <Route path=\"/admin\" element={<AdminLayout />}>\n                        <Route path=\"login\" element={<AdminLogin />} />\n                        <Route\n                            path=\"dashboard\"\n                            element={\n                                <ProtectedRoute>\n                                    <AdminDashboard />\n                                </ProtectedRoute>\n                            }\n                        />\n                    </Route>\n                </Routes>\n            </Router>\n        </ThemeProvider>\n    );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}